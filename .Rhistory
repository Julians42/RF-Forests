p.tcc.bias + p.ntcc.bias + p.tcc.emse+p.ntcc.emse+ plot_layout(ncol = 2, guides = "collect")
#  axis.text.x=element_blank()
p.ntcc.emse <- m.ntcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", color = "Model",
title = "Model Root EMSE, without tcc16")+
theme_bw()  +
theme(
axis.text.y=element_blank(),
text = element_text(size = 12)
)
p.ntcc.bias <- m.ntcc.bias %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size,
y = perc_rel_e_bias,
color = model,
group = model)) +
geom_line() +
facet_wrap(~section_label, scale = "free_y",ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(color = "Model", title = "Percent Relative Empirical Bias, without tcc16")+
scale_y_continuous() +
theme_bw() +
theme(
axis.text.x=element_blank(),
axis.text.y=element_blank(),
text = element_text(size = 12)
)
p.tcc.bias <- m.tcc.bias %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = perc_rel_e_bias, color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scale = "free_y",ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest",
"SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(y = "Percent Relative Empirical Bias", color = "Model",
title = "Percent Relative Empirical Bias, with tcc16")+
scale_y_continuous() +
theme_bw() +
theme(
axis.text.x=element_blank(),
text = element_text(size = 12)
)
#  axis.text.x=element_blank()
p.ntcc.emse <- m.ntcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", color = "Model",
title = "Model Root EMSE, without tcc16")+
theme_bw()  +
theme(
axis.text.y=element_blank(),
text = element_text(size = 12)
)
p.tcc.emse <- m.tcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Root Empirical MSE", color = "Model",
title = "Model Root EMSE, with tcc16")+
theme_bw()  +
theme(
text = element_text(size = 12)
)
p.tcc.bias + p.ntcc.bias + p.tcc.emse+p.ntcc.emse+ plot_layout(ncol = 2, guides = "collect")
p.tcc.bias + p.ntcc.bias + p.tcc.emse+p.ntcc.emse+
plot_layout(ncol = 2, guides = "collect")+
theme_minimal()
p.ntcc.bias <- m.ntcc.bias %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size,
y = perc_rel_e_bias,
color = model,
group = model)) +
geom_line() +
facet_wrap(~section_label, scale = "free_y",ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Percent Relative Empirical Bias",
color = "Model", title = "Percent Relative Empirical Bias, without tcc16")+
scale_y_continuous() +
theme_bw() +
theme(
#axis.text.x=element_blank(),
#axis.text.y=element_blank(),
text = element_text(size = 12)
)
p.tcc.bias <- m.tcc.bias %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = perc_rel_e_bias, color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scale = "free_y",ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest",
"SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Percent Relative Empirical Bias", color = "Model",
title = "Percent Relative Empirical Bias, with tcc16")+
scale_y_continuous() +
theme_bw() +
theme(
#axis.text.x=element_blank(),
text = element_text(size = 12)
)
#  axis.text.x=element_blank()
p.ntcc.emse <- m.ntcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Root Empirical MSE", color = "Model",
title = "Model Root EMSE, without tcc16")+
theme_bw()  +
theme(
#axis.text.y=element_blank(),
text = element_text(size = 12)
)
p.tcc.emse <- m.tcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Root Empirical MSE", color = "Model",
title = "Model Root EMSE, with tcc16")+
theme_bw()  +
theme(
text = element_text(size = 12)
)
p.tcc.bias + p.ntcc.bias + p.tcc.emse+p.ntcc.emse+
plot_layout(ncol = 2, guides = "collect")+
theme_minimal()
p.tcc.bias + p.ntcc.bias + p.tcc.emse+p.ntcc.emse+
plot_layout(ncol = 2, guides = "collect")&
theme_minimal()
p.tcc.bias + p.ntcc.bias + p.tcc.emse+p.ntcc.emse+
plot_layout(ncol = 2, guides = "collect")&
theme_gray()
#  axis.text.x=element_blank()
p.ntcc.emse <- m.ntcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Root Empirical MSE", color = "Model",
title = "Model Root EMSE, without tcc16")+
theme_bw()  +
theme(
axis.text.y=element_blank(),
text = element_text(size = 12)
)
#  axis.text.x=element_blank()
p.ntcc.emse <- m.ntcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Root Empirical MSE", color = "Model",
title = "Model Root EMSE, without tcc16")+
theme_bw()  +
theme(
axis.text.y=element_blank(),
text = element_text(size = 12)
)
p.ntcc.emse
#  axis.text.x=element_blank()
p.ntcc.emse <- m.ntcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = NULL, color = "Model",
title = "Model Root EMSE, without tcc16")+
theme_bw()  +
theme(
text = element_text(size = 12)
)
p.ntcc.emse
p.ntcc.bias <- m.ntcc.bias %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size,
y = perc_rel_e_bias,
color = model,
group = model)) +
geom_line() +
facet_wrap(~section_label, scale = "free_y",ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = NULL, y = NULL,
color = "Model", title = "Percent Relative Empirical Bias, without tcc16")+
scale_y_continuous() +
theme_bw() +
theme(
#axis.text.x=element_blank(),
#axis.text.y=element_blank(),
text = element_text(size = 12)
)
p.tcc.bias <- m.tcc.bias %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = perc_rel_e_bias, color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scale = "free_y",ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest",
"SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = NULL, y = "Percent Relative Empirical Bias", color = "Model",
title = "Percent Relative Empirical Bias, with tcc16")+
scale_y_continuous() +
theme_bw() +
theme(
#axis.text.x=element_blank(),
text = element_text(size = 12)
)
#  axis.text.x=element_blank()
p.ntcc.emse <- m.ntcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = NULL, color = "Model",
title = "Model Root EMSE, without tcc16")+
theme_bw()  +
theme(
text = element_text(size = 12)
)
p.tcc.emse <- m.tcc.emse %>%
filter(section %in% c("342I", "331A", "232B", "M242A")) %>%
ggplot(aes(x = sample_size, y = sqrt(e_mse), color = model, group = model)) +
geom_line() +
facet_wrap(~section_label, scales = "free_y", ncol = 2) +
scale_color_manual(
values = c("#92abd6", "#3a32d1", "#d94c4c", "#96b88d", "#fcba03", "#1e6e36"),
labels = c("Area EBLUP", "Post-Stratified", "Random Forest", "SMERF", "Unit EBLUP", "Unit Zero-Inflated")
) +
labs(x = "Sample Size", y = "Root Empirical MSE", color = "Model",
title = "Model Root EMSE, with tcc16")+
theme_bw()  +
theme(
text = element_text(size = 12)
)
p.tcc.bias + p.ntcc.bias + p.tcc.emse+p.ntcc.emse+
plot_layout(ncol = 2, guides = "collect")&
theme_gray()
ggsave("/Users/julianschmitt/Documents/Research/Thesis/RF-Forests/visualization/facet/sample4.png",
device = "png",
width = 10,
height = 10,
dpi = 200)
ggsave("/Users/julianschmitt/Documents/Research/Thesis/RF-Forests/visualization/facet/sample4.png",
device = "png",
width = 13,
height = 10,
dpi = 200)
pop.dat
dim(pop.dat)
################### comparison plots #####################
comparison.tcc <- tcc.bias %>% select(section, model, sample_size, e_bias) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_bias) %>%
mutate_all(abs) %>%
get.df()
gt(comparison.tcc)%>% tab_header(
title= md("**Pairwise Bias Comparison**"),
subtitle = md("*Number of wins of row model over column model (with tcc16)*")
) %>%
opt_row_striping() %>%
cols_align(align = "center") #%>%
pop.summ
hist(pop.summ$car_mean)
# get carbon levels
pop.summ2 <- pop.dat %>% group_by(SECTION) %>%
summarize(car_mean = mean(CARBON_AG_TPA_live_ADJ),
perc_zero = sum(CARBON_AG_TPA_live_ADJ == 0)/n()) %>%
left_join(state.df %>% rename(SECTION = domain), by = "SECTION") %>%
mutate(sec.st.label = paste0(state, ": ", SECTION, ", ", round(car_mean*2.2417,1), " tonnes/ha")) %>%
arrange(., car_mean)
hist(pop.summ2$car_mean)
hist(pop.summ2$perc_zero)
ggplot(pop.summ, aes(x = car_mean, y = perc_zero))+geom_point()
ggplot(pop.summ2, aes(x = car_mean, y = perc_zero))+geom_point()
# get carbon levels
pop.summ2 <- pop.dat %>% group_by(SECTION) %>%
summarize(car_mean = mean(CARBON_AG_TPA_live_ADJ)*2.2417,
perc_zero = sum(CARBON_AG_TPA_live_ADJ == 0)/n()) %>%
left_join(state.df %>% rename(SECTION = domain), by = "SECTION") %>%
mutate(sec.st.label = paste0(state, ": ", SECTION, ", ", round(car_mean,1), " tonnes/ha")) %>%
arrange(., car_mean)
ggplot(pop.summ2, aes(x = car_mean, y = perc_zero))+geom_point()+
labs(title = "Percent Zero Observations by Average Section Carbon")
ggplot(pop.summ2, aes(x = car_mean, y = perc_zero))+geom_point()+
labs(title = "Percent Zero Observations by Average Section Carbon",
x = "Average Section Carbon (Metric tonnes /acre)",
y = "Section Percent Zero Observations")
ggplot(pop.summ2, aes(x = car_mean, y = perc_zero))+geom_point()+
labs(title = "Percent Zero Observations by Average Section Carbon",
x = "Average Section Carbon (Metric tonnes /acre)",
y = "Section Percent Zero Observations")+
theme_grey()
ggplot(pop.summ2, aes(x = car_mean, y = perc_zero))+geom_point()+
labs(title = "Percent Zero Observations by Average Section Carbon",
x = "Average Section Carbon (Metric tonnes /acre)",
y = "Section Percent Zero Observations")+
theme_gray()
ggplot(pop.summ2, aes(x = car_mean, y = perc_zero))+geom_point()+
labs(title = "Percent Zero Observations by Average Section Carbon",
x = "Average Section Carbon (Metric tonnes /acre)",
y = "Section Percent Zero Observations")+
theme_minimal()
ggplot(pop.summ2, aes(x = car_mean, y = perc_zero))+geom_point()+
labs(title = "Percent Zero Observations by Average Section Carbon",
x = "Average Section Carbon (Metric tonnes /acre)",
y = "Section Percent Zero Observations")+
theme_gray()
pop.summ2$car_mean
pop.summ2$car_mean[10]
pop.summ2$car_mean[11]
pop.summ2$car_mean[20]
pop.summ2$car_mean[21]
pop.summ2$car_mean[22]
pop.summ2$car_mean[25]
pop.summ2$car_mean[12]
pop.summ2$car_mean[13]
pop.summ2$car_mean[14]
pop.summ2$car_mean[15]
pop.summ2$car_mean[16]
pop.summ2$perc_zero
sort(pop.summ2$perc_zero)
sort(pop.summ2$perc_zero)[10]
ggsave("/Users/julianschmitt/Documents/Research/Thesis/RF-Forests/visualization/perc_zero_by_carbon.png",
device = "png",
width=5,
height = 4,
dpi = 200)
pop.summ2
pop.summ3 <- pop.summ2 %>% select(SECTION, car_mean, perc_zero) %>% rename(section = section)
comparison.tcc.emse <- tcc.emse %>% select(section, model, sample_size, e_var) %>%
left_join(pop.summ3, by = "section") %>%
filter(perc_zero < .25) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_var) %>%
get.df() #%>%
pop.summ3 <- pop.summ2 %>% select(SECTION, car_mean, perc_zero) %>% rename(section = section)
pop.summ3 <- pop.summ2 %>% select(SECTION, car_mean, perc_zero) %>% rename(section = SECTION)
comparison.tcc.emse <- tcc.emse %>% select(section, model, sample_size, e_var) %>%
left_join(pop.summ3, by = "section") %>%
filter(perc_zero < .25) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_var) %>%
get.df() #%>%
comparison.tcc.emse
comparison.tcc.emse <- tcc.emse %>% select(section, model, sample_size, e_var) %>%
left_join(pop.summ3, by = "section") %>%
filter(perc_zero > .75) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_var) %>%
get.df() %>%
gt() %>% tab_header(
title= md("**Pairwise Empirical MSE Comparison**"),
subtitle = md("*Number of wins of row model over column model (with tcc16)*")
) %>%
opt_row_striping() %>%
cols_align(align = "center")
comparison.tcc.emse
tcc.emse
# without tcc
comparison.ntcc.emse <- ntcc.emse %>% select(model, sample_size, e_var) %>%
left_join(ntcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_mse) %>%
get.df()
ntcc.emse
ntcc.bias
# without tcc
comparison.ntcc.emse <- ntcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(ntcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_mse) %>%
get.df()
gt(comparison.ntcc.emse) %>% tab_header(
title= md("**Pairwise Empirical MSE Comparison**"),
subtitle = md("*Number of wins of row model over column model (without tcc16)*")
) %>%
opt_row_striping() %>%
cols_align(align = "center") %>%
gtsave("/Users/julianschmitt/Documents/Research/Thesis/RF-Forests/visualization/pairwise_emse_ntcc.png")
comparison.ntcc.emse
# without tcc
comparison.ntcc.emse <- ntcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(ntcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_mse)# %>%
#get.df()
comparison.ntcc.emse
# without tcc
comparison.ntcc.emse <- ntcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(ntcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
group_by(section, model, sample_size)# %>%
#get.df()
comparison.ntcc.emse
# without tcc
comparison.ntcc.emse <- ntcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(ntcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_mse)# %>%
#get.df()
comparison.ntcc.emse
# without tcc
comparison.ntcc.emse <- ntcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(ntcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
select(section, model, sample_size, e_mse) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_mse)# %>%
#get.df()
comparison.ntcc.emse
# without tcc
comparison.ntcc.emse <- ntcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(ntcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
select(section, model, sample_size, e_mse) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_mse) %>%
get.df()
comparison.ntcc.emse
gt(comparison.ntcc.emse) %>% tab_header(
title= md("**Pairwise Empirical MSE Comparison**"),
subtitle = md("*Number of wins of row model over column model (without tcc16)*")
) %>%
opt_row_striping() %>%
cols_align(align = "center") %>%
gtsave("/Users/julianschmitt/Documents/Research/Thesis/RF-Forests/visualization/pairwise_emse_ntcc.png")
comparison.tcc.emse <- tcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(tcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
select(section, model, sample_size, e_mse) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_var) %>%
get.df() #%>%
comparison.tcc.emse <- tcc.emse %>% select(domain, model, sample_size, e_var) %>%
left_join(tcc.bias, by = c("domain", "model", "sample_size")) %>%
mutate(e_mse = e_var + e_bias^2) %>%
select(section, model, sample_size, e_mse) %>%
group_by(section, model, sample_size) %>%
pivot_wider(names_from = model, values_from = e_mse) %>%
get.df() #%>%
comparison.tcc.emse
gt(comparison.tcc.emse) %>% tab_header(
title= md("**Pairwise Empirical MSE Comparison**"),
subtitle = md("*Number of wins of row model over column model (with tcc16)*")
) %>%
opt_row_striping() %>%
cols_align(align = "center") %>%
gtsave("/Users/julianschmitt/Documents/Research/Thesis/RF-Forests/visualization/pairwise_emse_tcc.png")
